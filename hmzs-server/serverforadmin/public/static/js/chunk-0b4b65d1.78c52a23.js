(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b4b65d1"],{"6f97":function(e,t,a){"use strict";a("db89")},8593:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"h",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"i",(function(){return m}));var r=a("b775");function n(e){return Object(r["a"])({url:"/park/sys/role",params:e})}function o(){return Object(r["a"])({url:"/park/sys/permision/all/tree"})}function s(e){return Object(r["a"])({url:"/park/sys/role/".concat(e)})}function l(e){return Object(r["a"])({url:"/park/sys/roleUser/".concat(e)})}function i(e){return Object(r["a"])({url:"/park/sys/user",params:e})}function u(e){return Object(r["a"])({url:"/park/sys/user",method:"POST",data:e})}function c(e){return Object(r["a"])({url:"/park/sys/user/".concat(e),method:"DELETE"})}function d(e){return Object(r["a"])({url:"/park/sys/role",method:"POST",data:e})}function m(e){return Object(r["a"])({url:"/park/sys/role",method:"PUT",data:e})}},bb56:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"employee-container"},[a("div",{staticClass:"search-container"},[a("div",{staticClass:"search-label"},[e._v("员工姓名：")]),a("el-input",{staticClass:"search-main",attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.params.name,callback:function(t){e.$set(e.params,"name",t)},expression:"params.name"}}),a("el-button",{attrs:{type:"primary"}},[e._v("查询")])],1),a("div",{staticClass:"create-container"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addEmployee}},[e._v("添加员工")])],1),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.employeeList}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{label:"员工姓名",width:"180",prop:"name"}}),a("el-table-column",{attrs:{label:"登录账号",width:"180",prop:"userName"}}),a("el-table-column",{attrs:{label:"联系方式",width:"120",prop:"phonenumber"}}),a("el-table-column",{attrs:{label:"角色",width:"120",prop:"roleName"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatStatus(t.row.status))+" ")]}}])}),a("el-table-column",{attrs:{label:"添加时间",prop:"createTime",width:"180"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.delEmployee(t.row.id)}}},[e._v("删除")]),a("el-button",{attrs:{size:"mini",type:"text"}},[e._v("重置密码")])]}}])})],1)],1),a("div",{staticClass:"page-container"},[a("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":e.params.pageSize,total:e.total},on:{"current-change":e.pageChange}})],1),a("el-dialog",{attrs:{title:"添加员工",visible:e.dialogVisible,width:"480px"},on:{close:e.closeDialog,open:e.openDialog},scopedSlots:e._u([{key:"footer",fn:function(){return[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.confirmAdd}},[e._v("确 定")])]},proxy:!0}])},[a("div",{staticClass:"form-container"},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"员工姓名",prop:"name"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"登录账号",prop:"userName"}},[a("el-input",{model:{value:e.addForm.userName,callback:function(t){e.$set(e.addForm,"userName",t)},expression:"addForm.userName"}})],1),a("el-form-item",{attrs:{label:"联系方式",prop:"phonenumber"}},[a("el-input",{model:{value:e.addForm.phonenumber,callback:function(t){e.$set(e.addForm,"phonenumber",t)},expression:"addForm.phonenumber"}})],1),a("el-form-item",{attrs:{label:"分配角色",prop:"roleId"}},[a("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.addForm.roleId,callback:function(t){e.$set(e.addForm,"roleId",t)},expression:"addForm.roleId"}},e._l(e.roleList,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1),a("el-form-item",{attrs:{label:"员工状态",prop:"status"}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("禁用")]),a("el-radio",{attrs:{label:1}},[e._v("启用")])],1)],1)],1)],1)])],1)},n=[],o=a("c7eb"),s=a("1da1"),l=a("8593"),i={name:"Employee",data:function(){return{employeeList:[],params:{page:1,pageSize:2,name:""},total:0,dialogVisible:!1,roleList:[],addForm:{name:"",phonenumber:"",roleId:"",status:1,userName:""},addFormRules:{name:[{required:!0,message:"请输入员工姓名",trigger:"blur"}],userName:[{required:!0,message:"请输入登录账号",trigger:"blur"}],phonenumber:[{required:!0,message:"请输入联系方式",trigger:"blur"}],roleId:[{required:!0,message:"请分配角色",trigger:"blur"}],status:[{required:!0,message:"请选择员工状态",trigger:"blur"}]}}},mounted:function(){this.getEmployeeList()},methods:{getEmployeeList:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])(e.params);case 2:a=t.sent,e.employeeList=a.data.rows,e.total=a.data.total;case 5:case"end":return t.stop()}}),t)})))()},pageChange:function(e){this.params.page=e,this.getEmployeeList()},closeDialog:function(){this.dialogVisible=!1},addEmployee:function(){this.dialogVisible=!0},openDialog:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["f"])();case 2:a=t.sent,e.roleList=a.data;case 4:case"end":return t.stop()}}),t)})))()},confirmAdd:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["b"])(e.addForm);case 2:e.dialogVisible=!1,e.getEmployeeList();case 4:case"end":return t.stop()}}),t)})))()},delEmployee:function(e){var t=this;this.$confirm("删除员工后将不可登录，确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["c"])(e);case 2:t.$message({type:"success",message:"删除成功"}),t.getEmployeeList();case 4:case"end":return a.stop()}}),a)}))))},formatStatus:function(e){return 1===e?"启用":"禁用"}}},u=i,c=(a("6f97"),a("2877")),d=Object(c["a"])(u,r,n,!1,null,"0890f4e6",null);t["default"]=d.exports},db89:function(e,t,a){}}]);